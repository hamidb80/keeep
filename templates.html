<!-- pages -->

<template name="note-page">

  <head>
    <use template="common-head"></use>
    <title>
      ‚úè <use template="title"></use>
    </title>
  </head>

  <body class="bg-light">

    <main>
      <use template="navbar"></use>

      <div class="container">

        <div>
          <div>
            <use template="note-id"></use>
          </div>
          <div>
            <use template="note-path"></use>
          </div>
          <div>
            <use template="date"></use>
          </div>
        </div>

        <div class="mt-4 card mx-auto shadow-sm rounded">
          <div class="card-body">
            <use template="article"></use>
          </div>
          <div class="card-footer">
            <div class="tags">
              <use template="tags"></use>
            </div>
            <div class="buttons">
              <!-- <use template="action_btns"></use> -->
              <!-- <use template="visits_history"></use> -->
              <!-- <use template="remember_history"></use> -->
            </div>
          </div>
        </div>
      </div>
    </main>

  </body>
</template>

<template name="notes-page">

  <head>
    <use template="common-head"></use>
    <title>
      üìö Notes
    </title>
  </head>

  <body class="bg-light">
    <main>
      <use template="navbar"></use>

      <div class="container">
        <h2>
          <i class="bi bi-stickies"></i>
          <span>Notes</span>
        </h2>

        <div class="my-4">
          <h5>
            <span>
              <i class="bi bi-percent"></i>
              Score Function
            </span>
          </h5>
          <select id="score-functions-input" class="form-select">
          </select>

          <button class="btn btn-sm btn-outline-primary w-100 mt-1" id="remember-btn">
            <i class="bi bi-repeat"></i>
            <span>Remember</span>
          </button>
          <button class="btn btn-sm btn-outline-primary w-100 mt-1" id="random-btn">
            <i class="bi bi-dice-5"></i>
            <span>Random</span>
          </button>
        </div>

        <div class="my-5">
          <search class="my-4">
            <h5>
              <i class="bi bi-search"></i>
              <span>Search</span>
            </h5>
            <input type="text" class="form-control w-100" placeholder="id, filename, title" id="search-input" />
          </search>

          <search class="my-4">
            <h5 class="my-0">
              <i class="bi bi-hash"></i>
              <span>Tag Query</span>
            </h5>
            <div class="my-2" id="suggested-tags">
              <tags-by-usage />
            </div>
            <textarea class="form-control w-100" placeholder="#tag1 > 2&#10;#page  ?&#10;#OS  !" id="tag-query-input"
              style="min-height: 6rem;" />
            <button class="btn btn-sm btn-outline-primary w-100 mt-1" id="tag-query-btn">
              <i class="bi bi-search"></i>
              <span>Find</span>
            </button>
          </search>
        </div>

        <div>
          <h5>
            <i class="bi bi-table"></i>
            <span>List</span>
          </h5>
          <table class="table table-hover bg-white">
            <thead>
              <tr>
                <th>
                  <i class="bi bi-alphabet-uppercase"></i>
                  <span>Title</span>
                </th>
                <th>
                  <i class="bi bi-hash"></i>
                  <span>Tags</span>
                </th>
                <th>
                  <i class="bi bi-calendar-event"></i>
                  <span>Date</span>
                </th>
                <th>
                  <i class="bi bi-clock-history"></i>
                  <span>History</span>
                </th>
                <th>
                  <i class="bi bi-percent"></i>
                  <span>Score</span>
                </th>
              </tr>
            </thead>
            <tbody id="notes-rows">
              <notes-rows />
            </tbody>
          </table>
        </div>
      </div>
    </main>

  </body>
</template>

<template name="about-page">

  <head>
    <use template="common-head"></use>
    <title>About</title>
  </head>

  <body class="bg-light">
    <main>
      <use template="navbar"></use>

      <div class="container">
        <h2>
          About
        </h2>
        <div>
          not yet
        </div>
      </div>
    </main>
  </body>
</template>

<template name="index-page">

  <head>
    <use template="common-head"></use>
    <title>
      üè° Intro
    </title>
  </head>

  <body class="bg-light">
    <main>
      <use template="navbar"></use>

      <div class="container">
        <h2 class="text-center text-italic">
          <span class="text-dark">Quick Start</span>
        </h2>
      </div>

    </main>
  </body>
</template>

<template name="profile-page">

  <head>
    <use template="common-head"></use>
    <title>
      üë§ Profile
    </title>
  </head>

  <body class="bg-light">
    <main>
      <use template="navbar"></use>

      <div class="container">
        <h2>
          <i class="bi bi-person-square"></i>
          <span>Profile</span>
        </h2>
        <div class="my-4">
          <section class="my-3">
            <h5>
              <i class="bi bi-nut"></i>
              <span>
                Actions
              </span>
            </h5>
            <button class="btn btn-outline-primary">
              <i class="bi bi-box-arrow-in-right"></i>
              <span>
                Import Data (merge)
              </span>
            </button>
            <button class="btn btn-outline-primary">
              <i class="bi bi-box-arrow-right"></i>
              <span>
                Export Data (download)
              </span>
            </button>
            <button class="btn btn-outline-primary">
              <i class="bi bi-trash2"></i>
              <span>
                Clear Data
              </span>
            </button>
          </section>
          <section class="my-3">
            <h5>
              <i class="bi bi-graph-up"></i>
              <span>
                Activity
              </span>
            </h5>
          </section>
        </div>
      </div>

    </main>
  </body>
</template>

<!-- partials -->

<template name="common-head">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100..900&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/unpoly@3.8.0/unpoly.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/unpoly@3.8.0/unpoly.min.css">

  <link rel="stylesheet" href="https://bootswatch.com/5/zephyr/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <link rel="stylesheet" href="/libs/style.css">
  <script src="/libs/page.js" defer></script>
</template>

<!-- components -->

<template name="hashtag">
  <div class="hashtag btn btn-sm btn-outline-primary">
    <span>
      <!-- <i :class="bi {{}}"></i> -->
      #
      <slot name="name"></slot>
    </span>
  </div>
</template>


<template name="notes-page.note-item">
  <tr class="note-item" :note-id="note-id">
    <note-json />
    <td>
      <a :href="link" smooth-link dir="auto" class="text-decoration-none">
        <slot name="title"></slot>
      </a>
    </td>
    <td>
      <slot name="tags"></slot>
    </td>
    <td parse-unix-date>
      <slot name="date"></slot>
    </td>
    <td history>
      <!-- history - to be filled -->
    </td>
    <td score>
      <slot name="score"></slot>
    </td>
  </tr>
</template>

<template name="navbar">
  <nav class="navbar navbar-expand-lg bg-primary py-1 px-3 mb-4" data-bs-theme="dark">
    <a class="navbar-brand" href="/" smooth-link>
      <i class="bi bi-journal-bookmark-fill"></i>
      <span>
        Keeep
      </span>
    </a>

    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/notes.html" smooth-link>
          <i class="bi bi-stickies"></i>
          <span>Notes</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/profile.html" smooth-link>
          <i class="bi bi-person-square"></i>
          <span>Profile</span>
        </a>
      </li>
    </ul>
  </nav>
</template>